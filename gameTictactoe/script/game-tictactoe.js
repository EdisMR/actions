var formulario=document.forms[0],turno=!0,innerUserHTML=document.querySelector(".turno span"),users={user1:"",user2:"",winner:""},classInner={userO:"ms-Icon--CircleRing",userX:"ms-Icon--Cancel"},gridItems=document.querySelectorAll("#grid div"),gridItemsSpan=document.querySelectorAll("#grid div span"),contadorDeTurnos=0;function defineUsers(e){if(evento=e,evento.preventDefault(),formulario.user1.value==formulario.user2.value)return!1;users.user1=formulario.user1.value,users.user2=formulario.user2.value,document.querySelector(".nombres").classList.add("d-None"),document.getElementById("juego").classList.remove("d-None"),innerTurnUser()}function addClickEventGrid(){gridItems.forEach((function(e){e.addEventListener("click",listenerDivs,!1)}))}function listenerDivs(s){e=s;parseInt(e.target.dataset.x),parseInt(e.target.dataset.y);"false"==e.target.dataset.occupied&&(llenarConIcono(e.target),contadorDeTurnos++,evaluarGanador(),switchTurno(),innerTurnUser())}function llenarConIcono(e){var s="";s=turno?classInner.userX:classInner.userO,e.querySelector(".ms-Icon").classList.add(s),e.dataset.occupied="true"}function switchTurno(){turno=!turno}function innerTurnUser(){turno&&(innerUserHTML.innerHTML=users.user1,innerUserHTML.parentNode.classList.add("animatedWho"),innerUserHTML.parentNode.addEventListener("animationend",animatedWhoRemove)),turno||(innerUserHTML.innerHTML=users.user2,innerUserHTML.parentNode.classList.add("animatedWho"),innerUserHTML.parentNode.addEventListener("animationend",animatedWhoRemove))}function animatedWhoRemove(){innerUserHTML.parentNode.classList.remove("animatedWho"),innerUserHTML.parentNode.removeEventListener("animationend",animatedWhoRemove)}function evaluarGanador(e){var s,r=!1;s=turno?classInner.userX:classInner.userO,gridItemsSpan[0].classList[1]==s&&gridItemsSpan[1].classList[1]==s&&gridItemsSpan[2].classList[1]==s&&(r=!0),gridItemsSpan[3].classList[1]==s&&gridItemsSpan[4].classList[1]==s&&gridItemsSpan[5].classList[1]==s&&(r=!0),gridItemsSpan[6].classList[1]==s&&gridItemsSpan[7].classList[1]==s&&gridItemsSpan[8].classList[1]==s&&(r=!0),gridItemsSpan[0].classList[1]==s&&gridItemsSpan[3].classList[1]==s&&gridItemsSpan[6].classList[1]==s&&(r=!0),gridItemsSpan[1].classList[1]==s&&gridItemsSpan[4].classList[1]==s&&gridItemsSpan[7].classList[1]==s&&(r=!0),gridItemsSpan[2].classList[1]==s&&gridItemsSpan[5].classList[1]==s&&gridItemsSpan[8].classList[1]==s&&(r=!0),gridItemsSpan[0].classList[1]==s&&gridItemsSpan[4].classList[1]==s&&gridItemsSpan[8].classList[1]==s&&(r=!0),gridItemsSpan[2].classList[1]==s&&gridItemsSpan[4].classList[1]==s&&gridItemsSpan[6].classList[1]==s&&(r=!0),turno&&r&&(users.winner=users.user1),!turno&&r&&(users.winner=users.user2),r?(mostrarGanador(),document.querySelector(".resetGame").classList.remove("d-None")):contadorDeTurnos>=9&&(document.querySelector(".turno").classList.add("d-None"),document.querySelector(".resetGame").classList.remove("d-None"),removeListeners())}function mostrarGanador(){removeListeners(),document.querySelector(".turno").classList.add("d-None"),document.getElementById("mostrarGanador").classList.remove("d-None"),document.querySelector("#mostrarGanador .ganadorInner").innerHTML=users.winner}function removeListeners(){gridItems.forEach((function(e){e.removeEventListener("click",listenerDivs,!1)}))}formulario.addEventListener("submit",defineUsers,!1),addClickEventGrid();var buttonReset=document.querySelector(".resetGame button");function resetGame(){gridItemsSpan.forEach((function(e){e.parentNode.dataset.occupied="false",e.classList.remove("ms-Icon--CircleRing"),e.classList.remove("ms-Icon--Cancel")})),document.getElementById("mostrarGanador").classList.add("d-None"),document.querySelector(".resetGame").classList.add("d-None"),document.querySelector(".turno").classList.remove("d-None"),addClickEventGrid(),contadorDeTurnos=0}buttonReset.addEventListener("click",resetGame,!1);